<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Домашня робота №18</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body style="color: #fff">
    <div class="wrapper">
      <div class="wrapper__container">
        <div class="tasks">
          <div class="task">
            <div class="task__text">
              <h1>Завдання 6</h1>
              <p>Виконати завдання №6</p>
              <a href="homework18.html" class="task__button">До головної!</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script>
     
     function createInput(textLabel, id) {
        const div = document.createElement("div");
        const label = document.createElement("label");
        label.textContent = textLabel;
        const input = document.createElement("input");
        input.setAttribute("type", "number");
        input.setAttribute("value", "");
        input.setAttribute("id", id);
        label.append(input);
        div.append(label);
        document.body.append(div);
      }
      createInput("Quantity numbers", "inputFirst");
      function getQuantityInputs() {
        return document.getElementById("inputFirst").value;
      }
      function createButton(textBtn, id) {
        const div = document.createElement("div");
        const button = document.createElement("button");
        button.textContent = textBtn;
        button.setAttribute("type", "button");
        button.setAttribute("id", id);
        div.append(button);
        document.body.append(div);
      }
      createButton("Get table", "btnFirst");
      function getInputs() {
        const quantityInputs = getQuantityInputs();
        for (let i = 0; i < quantityInputs; i++) {
          const input = document.createElement("input");
          input.setAttribute("type", "number");
          input.setAttribute("value", "");
          input.setAttribute("id", "input" + (i + 2));
          document.body.append(input);
        }
        createButton("Get average", "btnSecond");
        document.getElementById("btnSecond").onclick = getAverage;
      }
      function getAverage() {
        const quantityInputs = getQuantityInputs();
        let total = 0;
        for (let i = 0; i < quantityInputs; i++) {
          const inputValue = parseInt(
            document.getElementById("input" + (i + 2)).value
          );
          total += inputValue;
        }
        const p = document.createElement("p");
        p.textContent = "Average = " + total / quantityInputs;
        document.body.append(p);
      }
      window.onload = function () {
        document.getElementById("btnFirst").onclick = getInputs;
      };
        </script>
  </body>
</html>
